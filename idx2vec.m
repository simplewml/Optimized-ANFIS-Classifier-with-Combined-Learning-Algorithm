function vec=idx2vec(idx,nMFs) % Convert from a scalar index of the rule to a vector indices of MFs
vec=zeros(1,length(nMFs));
prods=[1; cumprod(nMFs(end:-1:1))];%[1;maxindexf]
if idx>prods(end)
    error('Error: idx is larger than the number of rules.');
end
prev=0;
for i=1:length(nMFs)
    vec(i)=floor((idx-1-prev)/prods(end-i))+1;%ËÄÉáÎåÈë
    prev=prev+(vec(i)-1)*prods(end-i);
end